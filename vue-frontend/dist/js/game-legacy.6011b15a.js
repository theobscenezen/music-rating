"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[757],{469:function(e,t,n){n.d(t,{y:function(){return a}});var l=n(3087),r=n(2833),a=function(){function e(){(0,l.Z)(this,e),this.player="",this.lyrics=0,this.production=0,this.creativity=0,this.groove=0,this.underdogness=0,this.earworm=0,this.round=""}return(0,r.Z)(e,[{key:"isValid",get:function(){return 0!==this.production&&0!==this.creativity&&0!==this.groove&&0!==this.underdogness&&0!==this.earworm}}],[{key:"fromData",value:function(t){var n=new e;return n._id=t._id,n.createdAt=t.createdAt,n.player=t.player,n.lyrics=t.lyrics,n.production=t.production,n.creativity=t.creativity,n.groove=t.groove,n.underdogness=t.underdogness,n.earworm=t.earworm,n.round=t.round,n}}]),e}()},1745:function(e,t,n){n.r(t),n.d(t,{default:function(){return He}});var l=n(6252),r=n(3577),a=n(9246),u=n(8944),o=n(7695),i=n(7563),s=n(5911),d=n(6334),c=n(7506),v=n(7074),p=n(2139),m=n(2716),f=n(6719);const g=(0,f.a)({name:"VListItemAvatar",props:{left:Boolean,right:Boolean,...(0,m.Q)()},setup(e,t){let{slots:n}=t;return()=>(0,l.Wm)(e.tag,{class:["v-list-item-avatar",{"v-list-item-avatar--start":e.left,"v-list-item-avatar--end":e.right}]},n,8,["class"])}});var h=n(5988);const y=(0,h.J)("v-list-item-header"),w=(0,h.J)("v-list-item-subtitle"),b=(0,h.J)("v-list-item-title");var _=n(6454),k=n(8942),W=n(4203),S=n(6947),R=n(8247),x=n(3664),C=n(2323),V=n(9748),F=n(7284),T=n(2262),D=n(1316),A=n(6533),O=n(8676);const U=e=>{let{id:t,value:n,opened:l,parents:r}=e;if(n){const e=new Set;e.add(t);let n=r.get(t);while(null!=n)e.add(n),n=r.get(n);return e}return l.delete(t),l},M=e=>{let{id:t,value:n,opened:l,parents:r}=e;if(n){let e=r.get(t);l.add(t);while(null!=e)l.add(e),e=r.get(e);return l}return l.delete(t),l},P={select:e=>{let{id:t,value:n,selected:l}=e;return l.set(t,n?"on":"off"),l},in:(e,t,n)=>{let l=new Map;for(const r of e||[])l=P.select({id:r,value:!0,selected:new Map(l),children:t,parents:n});return l},out:e=>{const t=[];for(const[n,l]of e.entries())"on"===l&&t.push(n);return t}},I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={select:t=>{let{id:n,value:l,selected:r,children:a}=t;return a.has(n)?r:e?new Map([[n,l?"on":"off"]]):(r.set(n,l?"on":"off"),r)},in:(e,n,l)=>{let r=new Map;for(const a of null!=e?e:[])r=t.select({id:a,value:!0,selected:new Map(r),children:n,parents:l});return r},out:P.out};return t},z={select:e=>{let{id:t,value:n,selected:l,children:r,parents:a}=e;const u=[t];while(u.length){const e=u.shift();l.set(e,n?"on":"off"),r.has(e)&&u.push(...r.get(e))}let o=a.get(t);while(o){const e=r.get(o),t=e.every((e=>"on"===l.get(e))),n=e.every((e=>!l.has(e)||"off"===l.get(e)));l.set(o,t?"on":n?"off":"indeterminate"),o=a.get(o)}return l},in:(e,t,n)=>{let l=new Map;for(const r of e||[])l=z.select({id:r,value:!0,selected:new Map(l),children:t,parents:n});return l},out:(e,t)=>{const n=[];for(const[l,r]of e.entries())"on"!==r||t.has(l)||n.push(l);return n}},H=e=>t=>{let{id:n,value:l,active:r}=t;const a=e?new Set:r;return l?a.add(n):a.delete(n),a},B=Symbol.for("vuetify:nested"),Z={id:(0,T.iH)(null),root:{register:()=>null,unregister:()=>null,parents:(0,T.iH)(new Map),children:(0,T.iH)(new Map),open:()=>null,select:()=>null,opened:(0,T.iH)(new Set),selected:(0,T.iH)(new Map),active:(0,T.iH)(new Set),activate:()=>null,selectedValues:(0,T.iH)([])}},J=(0,A.U)({selectStrategy:[String,Function],openStrategy:[String,Function],activeStrategy:[String,Function],opened:Array,selected:Array,active:Array},"nested"),L=e=>{let t=!1;const n=(0,T.iH)(new Map),r=(0,T.iH)(new Map),a=(0,D.z)(e,"opened",e.opened,(e=>new Set(e)),(e=>[...e.values()])),u=(0,D.z)(e,"active",e.active,(e=>new Set(e)),(e=>[...e.values()])),o=(0,T.Fl)((()=>{if("object"===typeof e.activeStrategy)return e.activeStrategy;switch(e.activeStrategy){case"single":return H(!0);case"multiple":default:return H()}})),i=(0,T.Fl)((()=>{if("object"===typeof e.selectStrategy)return e.selectStrategy;switch(e.selectStrategy){case"single-leaf":return I(!0);case"leaf":return I();case"independent":return P;case"classic":default:return z}})),s=(0,T.Fl)((()=>{if("function"===typeof e.openStrategy)return e.openStrategy;switch(e.openStrategy){case"single":return U;case"multiple":default:return M}})),d=(0,D.z)(e,"selected",e.selected,(e=>i.value.in(e,n.value,r.value)),(e=>i.value.out(e,n.value,r.value)));(0,l.Jd)((()=>{t=!0}));const c={id:(0,T.iH)(null),root:{opened:a,selected:d,active:u,selectedValues:(0,T.Fl)((()=>{const e=[];for(const[t,n]of d.value.entries())"on"===n&&e.push(t);return e})),register:(e,t,l)=>{t&&r.value.set(e,t),l&&n.value.set(e,[]),null!=t&&n.value.set(t,[...n.value.get(t)||[],e])},unregister:e=>{if(t)return;n.value.delete(e);const l=r.value.get(e);if(l){var o;const t=null!=(o=n.value.get(l))?o:[];n.value.set(l,t.filter((t=>t!==e)))}r.value.delete(e),a.value.delete(e),u.value.delete(e),d.value.delete(e)},open:(e,t,l)=>{const u=s.value({id:e,value:t,opened:new Set(a.value),children:n.value,parents:r.value,event:l});u&&(a.value=u)},select:(e,t,l)=>{const a=i.value.select({id:e,value:t,selected:new Map(d.value),children:n.value,parents:r.value,event:l});a&&(d.value=a)},activate:(e,t,l)=>{const a=o.value({id:e,value:t,active:new Set(u.value),children:n.value,parents:r.value,event:l});a&&(u.value=a)},children:n,parents:r}};return(0,l.JJ)(B,c),c.root},$=e=>{const t=(0,l.f3)(B,Z),n=(0,T.Fl)((()=>{var t;return null!=(t=e.value)?t:(0,O.sq)().toString()})),r={...t,id:n,parent:(0,T.Fl)((()=>t.root.parents.value.get(n.value))),select:(e,l)=>t.root.select(n.value,e,l),isSelected:(0,T.Fl)((()=>"on"===t.root.selected.value.get(n.value))),activate:(e,l)=>t.root.activate(n.value,e,l),isActive:(0,T.Fl)((()=>t.root.active.value.has(n.value)))};return t.root.register(n.value,t.id.value,!1),(0,l.Jd)((()=>{t.root.unregister(n.value)})),r},E=e=>{const t=(0,l.f3)(B,Z),n=(0,T.Fl)((()=>{var t;return null!=(t=e.value)?t:(0,O.sq)().toString()})),r={...t,id:n,open:(e,l)=>t.root.open(n.value,e,l),isOpen:(0,T.Fl)((()=>t.root.opened.value.has(n.value))),isSelected:(0,T.Fl)((()=>"on"===t.root.selected.value.get(n.value))),isIndeterminate:(0,T.Fl)((()=>"indeterminate"===t.root.selected.value.get(n.value)))};return t.root.register(n.value,t.id.value,!0),(0,l.Jd)((()=>{t.root.unregister(n.value)})),(0,l.JJ)(B,r),r};var j=n(6054);const Y=(0,f.a)({name:"VListSubheader",props:{color:String,inset:Boolean,...(0,m.Q)()},setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:a}=(0,j.rY)((0,T.Vh)(e,"color"));return()=>(0,l.Wm)(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset},r.value],style:{textColorStyles:a}},{default:()=>[n.default&&(0,l.Wm)("div",{class:"v-list-subheader__text"},[n.default()])]},8,["class","style"])}});var G=n(9963),N=n(8975);const Q=(0,f.a)({name:"VListGroupItems",props:{open:Boolean,items:Array},setup(e,t){let{slots:n}=t;const r=le(),a=te(r.hasPrepend);return()=>(0,l.Wm)(N.Fx,null,{default:()=>[(0,l.wy)((0,l.Wm)("div",{class:"v-list-group__items",style:{"--v-list-depth":a.value}},[(0,l.Wm)(K,{items:e.items},n,8,["items"])],4),[[G.F8,e.open]])]})}}),q=(0,f.e)()({name:"VListGroup",props:{value:null,collapseIcon:{type:String,default:"$collapse"},expandIcon:{type:String,default:"$expand"},items:Array,...(0,m.Q)()},setup(e,t){let{slots:n}=t;const{isOpen:r,open:a}=E(e),u=re(),o=e=>{a(!r.value,e)},i=(0,T.Fl)((()=>({onClick:o,appendIcon:r.value?e.collapseIcon:e.expandIcon,class:"v-list-group__header"})));return()=>{var t;return(0,l.Wm)(e.tag,{class:["v-list-group",{"v-list-group--prepend":null==u?void 0:u.hasPrepend.value}]},{default:()=>[null==(t=n.header)?void 0:t.call(n,i.value),(0,l.Wm)(Q,{items:e.items,open:r.value},n,8,["items","open"])],_:1},8,["class"])}}}),K=(0,f.e)()({name:"VListChildren",props:{items:Array},setup(e,t){let{slots:n}=t;return()=>{var t,r,a;return null!=(t=null==(r=n.default)?void 0:r.call(n))?t:null==(a=e.items)?void 0:a.map((e=>{let{children:t,...r}=e;const{value:a,...u}=r;return t?(0,l.Wm)(q,{value:a,items:t},{...n,header:e=>n.header?n.header({...u,...e}):(0,l.Wm)(ae,(0,l.dG)(u,e),null,16)},8,["value","items"]):n.item?n.item(r):(0,l.Wm)(ae,r,n,16)}))}}});var X=n(3099);const ee=Symbol.for("vuetify:depth"),te=e=>{const t=(0,l.f3)(ee,(0,T.iH)(-1)),n=(0,T.Fl)((()=>t.value+1+(null!=e&&e.value?1:0)));return(0,l.JJ)(ee,n),n},ne=Symbol.for("vuetify:list"),le=()=>{const e=(0,l.f3)(ne,{hasPrepend:(0,T.iH)(!1),updateHasPrepend:()=>null}),t={hasPrepend:(0,T.iH)(!1),updateHasPrepend:e=>{e&&(t.hasPrepend.value=e)}};return(0,l.JJ)(ne,t),e},re=()=>(0,l.f3)(ne,null),ae=((0,f.e)()({name:"VList",props:{color:String,disabled:Boolean,lines:{type:String,default:"one"},nav:Boolean,subheader:{type:[Boolean,String],default:!1},items:Array,...J({selectStrategy:"leaf",openStrategy:"multiple",activeStrategy:"single"}),...(0,_.m)(),...(0,k.f)(),...(0,W.x)(),...(0,S.c)(),...(0,R.I)(),...(0,m.Q)(),...(0,C.x$)()},emits:{"update:selected":e=>!0,"update:opened":e=>!0,"update:active":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=(0,C.Fg)(e),{backgroundColorClasses:a,backgroundColorStyles:u}=(0,j.Y5)((0,T.Vh)(e,"color")),{borderClasses:o}=(0,_.P)(e,"v-list"),{densityClasses:i}=(0,k.t)(e,"v-list"),{dimensionStyles:s}=(0,W.$)(e),{elevationClasses:d}=(0,S.Y)(e),{roundedClasses:c}=(0,R.b)(e,"v-list"),{open:v,select:p,activate:m}=L(e),f=te();return le(),(0,X.L)((()=>{const t="string"===typeof e.subheader||n.subheader;return(0,l.Wm)(e.tag,{class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--subheader":e.subheader,"v-list--subheader-sticky":"sticky"===e.subheader,[`v-list--${e.lines}-line`]:!0},r.value,a.value,o.value,i.value,d.value,c.value],style:[u.value,s.value,{"--v-list-depth":f.value}]},{default:()=>[t&&(n.subheader?n.subheader():(0,l.Wm)(Y,null,{default:()=>[e.subheader]})),(0,l.Wm)(K,{items:e.items},n,8,["items"])],_:1},8,["class","style"])})),{open:v,select:p,activate:m}}}),(0,f.e)()({name:"VListItem",directives:{Ripple:F.H},props:{active:Boolean,activeColor:String,activeClass:String,appendAvatar:String,appendIcon:String,disabled:Boolean,link:Boolean,prependAvatar:String,prependIcon:String,subtitle:String,title:String,value:null,...(0,_.m)(),...(0,k.f)(),...(0,W.x)(),...(0,S.c)(),...(0,R.I)(),...(0,x.GN)(),...(0,m.Q)(),...(0,C.x$)(),...(0,V.bk)({variant:"text"})},setup(e,t){var n;let{attrs:r,slots:a}=t;const u=(0,x.nB)(e,r),o=(0,T.Fl)((()=>{var t;return null!=(t=e.value)?t:u.href.value})),{activate:i,isActive:s,select:d,isSelected:c,root:v,parent:m}=$(o),f=re(),h=(0,T.Fl)((()=>{var t;return e.active||(null==(t=u.isExactActive)?void 0:t.value)||s.value})),F=null!=(n=e.activeColor)?n:e.color,D=(0,T.Fl)((()=>({color:h.value?F:e.color,textColor:e.textColor,variant:e.variant})));(0,l.bv)((()=>{var e;null!=(e=u.isExactActive)&&e.value&&null!=m.value&&v.open(m.value,!0)}));const{themeClasses:A}=(0,C.Fg)(e),{borderClasses:O}=(0,_.P)(e,"v-list-item"),{colorClasses:U,colorStyles:M,variantClasses:P}=(0,V.c1)(D,"v-list-item"),{densityClasses:I}=(0,k.t)(e,"v-list-item"),{dimensionStyles:z}=(0,W.$)(e),{elevationClasses:H}=(0,S.Y)(e),{roundedClasses:B}=(0,R.b)(e,"v-list-item"),Z=(0,T.Fl)((()=>({isActive:h.value,activate:i,select:d,isSelected:c.value})));return()=>{var t;const n=u.isLink.value?"a":e.tag,r=a.title||e.title,o=a.subtitle||e.subtitle,d=!(!r&&!o),c=!!(a.append||e.appendAvatar||e.appendIcon),v=!!(a.prepend||e.prependAvatar||e.prependIcon),m=!e.disabled&&(u.isClickable.value||e.link||null!=e.value);return null==f||f.updateHasPrepend(v),(0,l.wy)((0,l.Wm)(n,{class:["v-list-item",{"v-list-item--active":h.value,"v-list-item--disabled":e.disabled,"v-list-item--link":m,"v-list-item--prepend":!v&&(null==f?void 0:f.hasPrepend.value),[`${e.activeClass}`]:h.value&&e.activeClass},A.value,O.value,U.value,I.value,H.value,B.value,P.value],style:[M.value,z.value],href:u.href.value,tabindex:m?0:void 0,onClick:m&&(t=>{var n;null==(n=u.navigate)||n.call(u,t),null!=e.value&&i(!s.value,t)})},{default:()=>[(0,V.Ux)(m||h.value,"v-list-item"),v&&(a.prepend?a.prepend(Z.value):(0,l.Wm)(g,{left:!0},{default:()=>[(0,l.Wm)(p.V,{density:e.density,icon:e.prependIcon,image:e.prependAvatar},null,8,["density","icon","image"])]},8,["left"])),d&&(0,l.Wm)(y,null,{default:()=>[r&&(0,l.Wm)(b,null,{default:()=>[a.title?a.title():e.title]}),o&&(0,l.Wm)(w,null,{default:()=>[a.subtitle?a.subtitle():e.subtitle]})],_:1}),null==(t=a.default)?void 0:t.call(a,Z.value),c&&(a.append?a.append(Z.value):(0,l.Wm)(g,{right:!0},{default:()=>[(0,l.Wm)(p.V,{density:e.density,icon:e.appendIcon,image:e.appendAvatar},null,8,["density","icon","image"])]},8,["right"]))],_:1},8,["class","style","href","tabindex","onClick"]),[[(0,l.Q2)("ripple"),m]])}}}));var ue=n(2283),oe=n(1349);const ie=(0,f.a)({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:String,default:"$ratingEmpty"},fullIcon:{type:String,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:Number,default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...(0,k.f)(),...(0,ue.Z)(),...(0,m.Q)(),...(0,C.x$)()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=(0,oe.bU)(),{themeClasses:u}=(0,C.Fg)(e),o=(0,D.z)(e,"modelValue"),i=(0,T.Fl)((()=>(0,O.MT)(Number(e.length),1))),s=(0,T.Fl)((()=>i.value.flatMap((t=>e.halfIncrements?[t-.5,t]:[t])))),d=(0,T.iH)(-1),c=(0,T.iH)(-1),v=(0,T.iH)();let p=!1;const m=(0,T.Fl)((()=>s.value.map((t=>{var n;const l=e.hover&&d.value>-1,r=o.value>=t,a=d.value>=t,u=l?a:r,i=u?e.fullIcon:e.emptyIcon,s=null!=(n=e.activeColor)?n:e.color,c=r||a?s:e.color;return{isFilled:r,isHovered:a,icon:i,color:c}})))),f=(0,T.Fl)((()=>[0,...s.value].map((t=>{function n(){d.value=t}function l(){d.value=-1}function r(){var e;0===t&&0===o.value?null==(e=v.value)||e.focus():c.value=t}function a(){p||(c.value=-1)}function u(){e.disabled||e.readonly||(o.value=o.value===t&&e.clearable?0:t)}return{onMouseenter:e.hover?n:void 0,onMouseleave:e.hover?l:void 0,onFocus:r,onBlur:a,onClick:u}}))));function g(){p=!0}function h(){p=!1}const y=(0,T.Fl)((()=>{var t;return null!=(t=e.name)?t:`v-rating-${(0,O.sq)()}`}));function w(t){var u,i;let{value:s,index:d,showStar:c=!0}=t;const{onMouseenter:p,onMouseleave:w,onFocus:b,onBlur:_,onClick:k}=f.value[d+1],W=`${y.value}-${String(s).replace(".","-")}`,S={color:null==(u=m.value[d])?void 0:u.color,density:e.density,disabled:e.disabled,icon:null==(i=m.value[d])?void 0:i.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return(0,l.Wm)(l.HY,null,[(0,l.Wm)("label",{for:W,class:{"v-rating__item--half":e.halfIncrements&&s%1>0,"v-rating__item--full":e.halfIncrements&&s%1===0},onMousedown:g,onMouseup:h,onMouseenter:p,onMouseleave:w},[(0,l.Wm)("span",{class:"v-rating__hidden"},[r(e.itemAriaLabel,s,e.length)]),c?n.item?n.item({...m.value,props:S,value:s,index:d}):(0,l.Wm)(a.T,S,null,16):void 0],42,["for","onMousedown","onMouseup","onMouseenter","onMouseleave"]),(0,l.Wm)("input",{class:"v-rating__hidden",name:y.value,id:W,type:"radio",value:s,checked:o.value===s,onClick:k,onFocus:b,onBlur:_,ref:0===d?v:void 0,readonly:e.readonly,disabled:e.disabled},null,40,["name","id","value","checked","onClick","onFocus","onBlur","readonly","disabled"])])}return()=>{var t;const r=!(null==(t=e.itemLabels)||!t.length);return(0,l.Wm)(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},u.value]},{default:()=>[(0,l.Wm)(w,{value:0,index:-1,showStar:!1},null,8,["index"]),i.value.map(((t,a)=>{var u,o;return(0,l.Wm)("div",{class:"v-rating__wrapper"},[r?n["item-label"]?n["item-label"]():null!=(u=e.itemLabels)&&u[a]?(0,l.Wm)("span",null,[null==(o=e.itemLabels)?void 0:o[a]]):(0,l.Wm)("span",null,[(0,l.Uk)(" ")]):void 0,(0,l.Wm)("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(c.value)===t}]},[e.halfIncrements?(0,l.Wm)(l.HY,null,[(0,l.Wm)(w,{value:t-.5,index:2*a},null,8,["value","index"]),(0,l.Wm)(w,{value:t,index:2*a+1},null,8,["value","index"])]):(0,l.Wm)(w,{value:t,index:a},null,8,["value","index"])],2)])}))],_:1},8,["class"])}}});var se=n(8610),de=(0,l._)("p",{class:"text-center mt-3 mb-2"},"Bitte warte, während die anderen noch Voten...",-1),ce={class:"text-center mb-8"},ve={class:"mx-4 mt-16"},pe=(0,l._)("h2",null,"Deine Eingaben:",-1),me=(0,l.Uk)("Kreativität: "),fe=(0,l.Uk)("Ohrwurmfaktor: "),ge=(0,l.Uk)("Groove: "),he=(0,l.Uk)("Lyrics: "),ye=(0,l.Uk)("Produktion: "),we=(0,l.Uk)("Underdog-Faktor: "),be={class:"ma-4 mt-16"},_e=(0,l.Uk)(" Spielerzahl ändern "),ke=(0,l.Uk)("Kreativität"),We=(0,l.Uk)("Ohrwurmfaktor"),Se=(0,l.Uk)("Groove"),Re=(0,l.Uk)("Lyrics"),xe=(0,l.Uk)("Produktion"),Ce=(0,l.Uk)("Underdog-Faktor"),Ve=(0,l.Uk)(" Abstimmen "),Fe=(0,l._)("h2",null,"Abschlussstatistiken",-1),Te={id:"finalResults",ref:"finalResults",width:"400",height:"400"};function De(e,t,n,p,m,f){var g=(0,l.up)("loader"),h=(0,l.up)("v-list-item-content");return e.loading?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Wm)(g),e.submitted&&!e.gameFinalized?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[de,(0,l._)("p",ce,(0,r.zw)(e.currentRound.currentRecord.votes.length)+" / "+(0,r.zw)(e.currentRound.playerCount)+" Spieler haben bereits abgestimmt. ("+(0,r.zw)(e.playersVoted)+")",1),(0,l._)("div",ve,[pe,(0,l._)("p",null,(0,r.zw)(e.currentRound.currentRecord.artist)+" - "+(0,r.zw)(e.currentRound.currentRecord.title),1),(0,l.Wm)(u._,{class:"mx-auto",tile:""},{default:(0,l.w5)((function(){return[(0,l.Wm)(ae,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(h,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[me,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.creativity),1)]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[fe,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.earworm),1)]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[ge,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.groove),1)]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[he,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.lyrics),1)]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[ye,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.production),1)]})),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((function(){return[we,(0,l._)("strong",null,(0,r.zw)(e.voteDTO.underdogness),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]),(0,l._)("div",be,[(0,l.Wm)(se.h,{modelValue:e.newPlayerCount,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newPlayerCount=t}),label:"Anzahl Spieler",type:"number",required:""},null,8,["modelValue"]),(0,l.Wm)(a.T,{color:"lighten-2",text:"",onClick:e.changePlayerCount,disabled:0===e.newPlayerCount},{default:(0,l.w5)((function(){return[_e]})),_:1},8,["onClick","disabled"])])],64)):(0,l.kq)("",!0)],64)):e.gameFinalized?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[Fe,(0,l._)("canvas",Te,null,512)],64)):((0,l.wg)(),(0,l.j4)(u._,{key:1,class:"mx-4 my-12 pt-4 pb-4 pl-2 pr-2","max-width":"374"},{default:(0,l.w5)((function(){var n,u,p,m;return[null!==(n=e.currentRound)&&void 0!==n&&null!==(u=n.currentRecord)&&void 0!==u&&u.imageUrl?((0,l.wg)(),(0,l.j4)(v.f,{key:0,class:"mb-4",height:"250",src:null===(p=e.currentRound)||void 0===p||null===(m=p.currentRecord)||void 0===m?void 0:m.imageUrl},null,8,["src"])):(0,l.kq)("",!0),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){var t,n;return[(0,l.Uk)((0,r.zw)(null===(t=e.currentRound)||void 0===t||null===(n=t.currentRecord)||void 0===n?void 0:n.title),1)]})),_:1}),(0,l.Wm)(i.Q,{class:"mb-4"},{default:(0,l.w5)((function(){var t,n;return[(0,l.Uk)((0,r.zw)(null===(t=e.currentRound)||void 0===t||null===(n=t.currentRecord)||void 0===n?void 0:n.artist),1)]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[ke]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.creativity,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.voteDTO.creativity=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[We]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.earworm,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.voteDTO.earworm=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[Se]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.groove,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.voteDTO.groove=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[Re]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.lyrics,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.voteDTO.lyrics=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[xe]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.production,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.voteDTO.production=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(c.J,{class:"mx-4"}),(0,l.Wm)(o.E,null,{default:(0,l.w5)((function(){return[Ce]})),_:1}),(0,l.Wm)(s.Z,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(ie,{modelValue:e.voteDTO.underdogness,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.voteDTO.underdogness=t}),density:"default",color:"yellow",clearable:"","half-increments":""},null,8,["modelValue"])]})),_:1}),(0,l.Wm)(d.h,null,{default:(0,l.w5)((function(){return[(0,l.Wm)(a.T,{color:"deep-purple lighten-2",text:"",disabled:!e.voteDTO.isValid,onClick:e.submitVote},{default:(0,l.w5)((function(){return[Ve]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1}))}var Ae=n(8534),Oe=(n(9826),n(1539),n(4747),n(2222),n(1249),n(9600),n(5666),n(2728)),Ue=n(2695),Me=n(469),Pe=(0,l.aZ)({name:"Game",data:function(){return{voteDTO:new Me.y,polling:null,submitted:!1,gameFinalized:!1,currentRecordBackup:"",newPlayerCount:0}},mixins:[Ue.Z],mounted:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchCurrentRound();case 2:return t.next=4,e.startNewRound();case 4:e.newPlayerCount=null===(n=e.currentRound)||void 0===n?void 0:n.playerCount;case 5:case"end":return t.stop()}}),t)})))()},methods:{fetchCurrentRound:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=e.$route.params.roundId,t.next=4,e.$store.dispatch("fetchRound",n);case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},startNewRound:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){var n,l,r,a,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentRecordBackup=null===(n=e.currentRound)||void 0===n||null===(l=n.currentRecord)||void 0===l?void 0:l._id,null!==e.currentRound.currentRecord){t.next=6;break}return e.showToast("Das Spiel ist abgeschlossen!"),e.gameFinalized=!0,e.showStats(),t.abrupt("return");case 6:if(null===(r=e.currentRound)||void 0===r||null===(a=r.currentRecord)||void 0===a||!a.votes){t.next=16;break}if(u=e.currentRound.currentRecord.votes.find((function(t){return t.player===e.player})),!u){t.next=16;break}return e.voteDTO=Me.y.fromData(u),e.showToast("Dein Voting existiert bereits."),e.loading=!0,e.submitted=!0,t.next=15,e.startPolling();case 15:return t.abrupt("return");case 16:e.voteDTO=new Me.y,e.currentRound&&e.player&&(e.voteDTO.round=e.currentRound._id,e.voteDTO.player=e.player),e.loading=!1,e.submitted=!1;case 20:case"end":return t.stop()}}),t)})))()},submitVote:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentRound){t.next=7;break}return e.loading=!0,e.submitted=!0,t.next=5,e.restClient.POST("/api/rounds/".concat(e.currentRound._id,"/submit"),e.voteDTO);case 5:return t.next=7,e.startPolling();case 7:case"end":return t.stop()}}),t)})))()},startPolling:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchRound",e.currentRound._id);case 2:e.polling=setInterval((0,Ae.Z)(regeneratorRuntime.mark((function t(){var n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentRound){t.next=5;break}return t.next=3,e.$store.dispatch("fetchRound",e.currentRound._id);case 3:e.currentRecordBackup!==(null===(n=e.currentRound)||void 0===n||null===(l=n.currentRecord)||void 0===l?void 0:l._id)&&(e.showToast("Neues Album kommt!"),e.endPolling(),e.startNewRound()),null===e.currentRound.currentRecord&&(e.showToast("Das Spiel ist beendet!"),e.gameFinalized=!0,e.showStats());case 5:case"end":return t.stop()}}),t)}))),3e3);case 3:case"end":return t.stop()}}),t)})))()},endPolling:function(){clearInterval(this.polling)},changePlayerCount:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.restClient.POST("/api/rounds/".concat(null===(n=e.currentRound)||void 0===n?void 0:n._id),{_id:e.currentRound._id,playerCount:e.newPlayerCount});case 2:case"end":return t.stop()}}),t)})))()},showStats:function(){var e=this;return(0,Ae.Z)(regeneratorRuntime.mark((function t(){var n,l,r,a,u,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.restClient.GET("/api/rounds/".concat(null===(n=e.currentRound)||void 0===n?void 0:n._id,"/stats"));case 2:l=t.sent,r=[],a=[],u=[],o=[],l.response.forEach((function(t){r.push(t.artist);var n=e.randomRgba();u.push(n.bg),o.push(n.border),a.push(e.calculateValues(t.votes))})),i=e.$refs.finalResults,s=i.getContext("2d"),s&&new Oe.kL(s,{type:"bar",data:{labels:r,datasets:[{label:"# of Votes",data:a,backgroundColor:u,borderColor:o,borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}}),e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},randomRgba:function(){var e=Math.round,t=Math.random,n=255,l=e(t()*n),r=e(t()*n),a=e(t()*n);return{bg:"rgba(".concat(l,",").concat(r,",").concat(a,",0.2)"),border:"rgba(".concat(l,",").concat(r,",").concat(a,",1)")}},calculateValues:function(e){var t=new Me.y;return e.forEach((function(e){t.lyrics+=e.lyrics,t.production+=e.production,t.earworm+=e.earworm,t.underdogness=e.underdogness,t.groove=e.groove,t.creativity=e.creativity})),t.lyrics+t.production+t.earworm+t.underdogness+t.groove+t.creativity}},beforeUnmount:function(){this.endPolling()},computed:{playersVoted:function(){var e,t,n=null===(e=this.currentRound)||void 0===e||null===(t=e.currentRecord)||void 0===t?void 0:t.votes.map((function(e){return e.player}));return n.join(", ")}}}),Ie=n(3744);const ze=(0,Ie.Z)(Pe,[["render",De]]);var He=ze},9826:function(e,t,n){var l=n(2109),r=n(2092).find,a=n(1223),u="find",o=!0;u in[]&&Array(1)[u]((function(){o=!1})),l({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(u)},9600:function(e,t,n){var l=n(2109),r=n(1702),a=n(8361),u=n(5656),o=n(9341),i=r([].join),s=a!=Object,d=o("join",",");l({target:"Array",proto:!0,forced:s||!d},{join:function(e){return i(u(this),void 0===e?",":e)}})},1249:function(e,t,n){var l=n(2109),r=n(2092).map,a=n(1194),u=a("map");l({target:"Array",proto:!0,forced:!u},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=game-legacy.6011b15a.js.map