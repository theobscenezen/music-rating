"use strict";(self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[]).push([[177],{469:function(e,t,r){r.d(t,{y:function(){return a}});class a{constructor(){this.player="",this.lyrics=0,this.production=0,this.creativity=0,this.groove=0,this.underdogness=0,this.earworm=0,this.round=""}static fromData(e){const t=new a;return t._id=e._id,t.createdAt=e.createdAt,t.player=e.player,t.lyrics=e.lyrics,t.production=e.production,t.creativity=e.creativity,t.groove=e.groove,t.underdogness=e.underdogness,t.earworm=e.earworm,t.round=e.round,t}get isValid(){return 0!==this.production&&0!==this.creativity&&0!==this.groove&&0!==this.underdogness&&0!==this.earworm}}},4900:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var a=r(6252),n=r(3577),l=r(1457),o=r(9246),s=r(8944),u=r(7695),i=r(7563),d=r(6334),c=r(6474);const m=(0,a.aZ)({name:"VDefaultsProvider",props:{defaults:Object},setup(e,t){let{slots:r}=t;return(0,c.AF)(e),()=>{var e;return null==(e=r.default)?void 0:e.call(r)}}});var w=r(7074),h=r(8610);const f={key:1},g=(0,a.Uk)("Mitspielen "),p=(0,a.Uk)("Abgeschlossene Runde"),y=(0,a.Uk)("Ergebnisse ansehen "),_=(0,a.Uk)("Neue Runde anlegen"),k=(0,a.Uk)("anlegen");function v(e,t,r,c,v,C){const R=(0,a.up)("loader");return(0,a.wg)(),(0,a.j4)(l.q,null,{default:(0,a.w5)((()=>[e.loading?((0,a.wg)(),(0,a.j4)(R,{key:0})):((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(m,{defaults:e.defaults},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.rounds,(t=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t._id},[t.currentRecord?((0,a.wg)(),(0,a.j4)(s._,{key:0,class:"ma-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.currentRecord.title),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(t.currentRecord.artist),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Ersteller: "+(0,n.zw)(t.creator),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mitspieler: "+(0,n.zw)(t.playerCount),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Erstellt: "+(0,n.zw)(new Date(t.createdAt).toLocaleString()),1)])),_:2},1024),t.currentRecord&&t.currentRecord.imageUrl?((0,a.wg)(),(0,a.j4)(w.f,{key:0,height:"250",src:t.currentRecord.imageUrl,class:"mt-4 mb-4"},null,8,["src"])):(0,a.kq)("",!0),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{onClick:r=>e.startGame(t._id),class:"ml-2 mb-2 mt-5",variant:"outlined",rounded:"",text:""},{default:(0,a.w5)((()=>[g])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)):((0,a.wg)(),(0,a.j4)(s._,{key:1,class:"ma-10"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Ersteller: "+(0,n.zw)(t.creator),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mitspieler: "+(0,n.zw)(t.playerCount),1)])),_:2},1024),(0,a.Wm)(i.Q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Erstellt: "+(0,n.zw)(new Date(t.createdAt).toLocaleString()),1)])),_:2},1024),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{onClick:r=>e.startGame(t._id),class:"ml-2 mb-2 mt-5",variant:"outlined",rounded:"",text:""},{default:(0,a.w5)((()=>[y])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024))],64)))),128))])),_:1},8,["defaults"])])),(0,a.Wm)(s._,{class:"ma-10 pa-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[_])),_:1}),(0,a.Wm)(h.h,{modelValue:e.newRoundPlayerCount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newRoundPlayerCount=t),label:"Anzahl Spieler",type:"number",required:""},null,8,["modelValue"]),(0,a.Wm)(o.T,{onClick:e.createRound,disabled:0===e.newRoundPlayerCount},{default:(0,a.w5)((()=>[k])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})}var C=r(2695),R=r(469);class U{constructor(){this.imageUrl="",this.artist="",this.title="",this.votes=[]}static fromData(e){const t=new U;return t._id=e._id,t.createdAt=e.createdAt,t.imageUrl=e.imageUrl,t.artist=e.artist,t.title=e.title,t.votes=e.votes.map((e=>R.y.fromData(e))),t}}class W{constructor(){this.currentRecord=null,this.creator="",this.playerCount=0}static fromData(e){const t=new W;return t._id=e._id,t.creator=e.creator,t.createdAt=e.createdAt,t.playerCount=e.playerCount,t.currentRecord=U.fromData(e.currentRecord),t}}var b=(0,a.aZ)({name:"Home",data:()=>({defaults:{global:{elevation:10}},newRoundPlayerCount:0}),async mounted(){this.loading=!0,await this.$store.dispatch("fetchRounds"),this.loading=!1},mixins:[C.Z],methods:{startGame(e){this.$router.push({name:"Game",params:{roundId:e}})},async createRound(){if(this.loading=!0,this.player){const e=new W;e.creator=this.player,e.playerCount=this.newRoundPlayerCount,await this.restClient.POST("api/rounds",e),await this.$store.dispatch("fetchRounds")}this.loading=!1,this.newRoundPlayerCount=0}}}),A=r(3744);const D=(0,A.Z)(b,[["render",v]]);var z=D}}]);
//# sourceMappingURL=home.663fd685.js.map